.\" Automatically generated by Pandoc 2.9.2.1
.\"
.TH "CLICHE" "1" "August 15, 2022" "" ""
.hy
.SH NAME
.PP
\f[B]cliche\f[R] - execute C++ script, optionally passing it some
arguments
.SH SYNOPSIS
.PP
\f[B]cliche\f[R] [\f[I]script\f[R]] [\f[I]args\f[R]]\&...
.SH DESCRIPTION
.PP
\f[B]cliche\f[R] is intended to be used by C++ scripts in the shebang
line to enable passing of arguments to the script in a bash-like
fashion.
.PP
Its usefulness is best explained by an example:
.PP
\f[B]runme.cpp\f[R]
.IP
.nf
\f[C]
#!/usr/bin/cliche

#include <array>
#include <iostream>

auto args = getargs();
for(auto n = 0; n < args.size(); ++n) {
    std::cout << \[dq]args[\[dq] << n << \[dq]] = \[dq] << args[n] << std::endl;
}
\f[R]
.fi
.PP
Now, you can call \f[B]runme.cpp\f[R] as follows:
.IP
.nf
\f[C]
user\[at]linux:\[ti]$ ./runme.cpp foo bar baz
args[0] = ./runme.cpp
args[1] = foo
args[2] = bar
args[3] = baz
\f[R]
.fi
.PP
Under the hood, \f[B]cliche\f[R] is a very simple wrapper that takes
path to the <\f[I]script\f[R]> followed by zero or more <\f[I]args\f[R]>
and does the following:
.IP
• Turns the <\f[I]script\f[R]> and the <\f[I]args\f[R]> into valid C++
strings (by escaping \f[B]\[rs]\f[R], \f[B]\[dq]\f[R], \f[B]\[rs]a\f[R],
\f[B]\[rs]b\f[R], \f[B]\[rs]f\f[R], \f[B]\[rs]n\f[R], \f[B]\[rs]r\f[R],
\f[B]\[rs]t\f[R] and \f[B]\[rs]v\f[R] chars).
.IP
• Defines \f[B]getargs()\f[R] macro, which returns an instance of
\f[B]std::array<>\f[R] containing the <\f[I]script\f[R]> and the
<\f[I]args\f[R]>.
.IP
• Calls \f[B]cling\f[R] (the Interactive C++ Interpreter) passing it the
macro and the <\f[I]script\f[R]> for execution.
.PP
To make use of \f[B]cliche\f[R] your script has to do three things:
.IP
1. Contain \f[B]#!/usr/bin/cliche\f[R] shebang on the first line.
.IP
2. Make sure the \f[B]<array>\f[R] header is included before calling
\f[B]getargs()\f[R].
.IP
3. Call the \f[B]getargs()\f[R] macro to access the arguments.
.PP
Share and enjoy.
.SH BUGS
.PP
Plenty. And there are plenty more where they came from.
.SH AUTHORS
Written by Dimitry Ishenko.
